\title{Collaborative Software Development Using R-Forge}
\author{Stefan Theu\ss{}l and Achim Zeileis}

\maketitle

%% Story of the article:
%% (1) Open source software (OSS) development - history, importance  _/
%%     - Apache, Linux famous examples ?TODO
%%     - Scripting languages, PHP, Perl and of course R ?TODO
%%     - software repositories: CPAN, CTAN -> CRAN ?TODO 
%% (2) collaboration and project management  _/
%%     - collaboration sites: SourceForge.net _/
%% (3) why is it important to have a central repository TODO
%%     - The Cathedral and the Bazaar TODO
%%     - large community -> better TODO
%% (4) - R-Forge  _/
%%     - explaining the basic tools  _/
%%     - R specific features  _/
%%       Package building/checking facilities
%%     - quality management through R check and tracker _/
%%     - other stuff: forums  _/

%% (5) How to forge packages on R-Forge (A day in a life of a new R
%%     package developer).
%%     - registering as a user  _/
%%     - registering a project (automatically creates SVN, a
%%       mailinglist -> managable through web interface -> click to send
%%       commit statements to this list).  _/
%%     - the svn base tree (picture of an axample tree with more
%%       packages) TODO

%% new command for R-Forge tabs
\newcommand{\tab}[1]{{\normalfont\textit{#1}}}

\section*{Introduction}

%% from useR abstract 
%% <useR>
%% Why should software developers use source code management tools?

A key factor in open source software (OSS) development is the rapid creation
of solutions within an open, collaborative environment. The open
source model had its major breakthrough with the increasing
usage of the internet. Online communities successfully combined
not only their programming effort but also their knowledge, work
and even their social life. OSS is by definition free and
the source code is available to everyone.
claimed to be  because of the
``release early, release often'' paradigm introduced by Linus
Torvalds.
%% Peer review of open source software


\textbf{TODO: } I don't know what to do with the following paragraph
%% FIXME:
Much early work on OSS development was aimed at raising awareness  OSS
work produced by a community of developers ``The Cathedral and the
Bazaar'' by \cite{forge:Raymond:1999}.
Advantages:
decentralized self-organizing process, rapid code evolution, massive
peer code review, rapid release of prototype code
Developers of larger projects like the language \R{} use source code
management (SCM) facilities to follow this paradigm.

The \R{} Development Core Team have been using
development tools like Subversion \citep[SVN,
see][]{forge:Pilato+Collins-Sussman+Fitzpatrick:2004} or  
Concurrent Versions System \citep[CVS, see][]{forge:Cederqvist:2006}
for managing their source code for a decade now.  
A central repository is hosted by ETH Z\"urich mainly for
managing the development of the base \R{} system. 

Many package developers use similar infrastructure to manage their
source code, e.g., in private SVN repositories, using web tools like
Google Code (\url{http://code.google.com}) or simply by using shared
storage. Additionally, when examining the \file{DESCRIPTION} files of
packages on CRAN we see that around $47\%$ of them have multiple
authors (as of August 10, 2008). All of the above show that SCM
facilities are already in use in the \R{} community and that a central
repository would help people to get started with these tools.

The \R{}-project is now ready to provide infrastructure
for the entire \R{} community. 
R-Forge (\url{http://R-Forge.R-project.org}) provides a set of tools
for source code management and various web-based
features. It aims to provide a platform for collaborative development of
\R{} packages, \R{}-related software or further projects. But it does not
matter if individuals work on their own or a number of developers
collaborate in a larger project, on R-Forge all work is organized in
the same entity namely a ``Project''.

R-Forge is closely related to the most famous of such platforms---the
world's largest OSS development website---namely
\url{http://SourceForge.net}. The major strength of \R{}-Forge in
comparison to SourceForge is the focus on services especially aimed at
the \R{} community.

%% Article Outline
The present article is organized as follows. First, we present the core
features that \R{}-Forge offers to the \R{} community. Second, we
give a hands on tutorial on how package developers can get started with 
\R{}-Forge. In particular we show how people register new projects,
use \R{}-Forge's source code management facilities, provide their 
packages with \R{}-Forge, host a project specific website, and
finally submit a package to the Comprehensive R Archive Network (CRAN,
\url{http://CRAN.R-project.org}).
Eventually we summarize recent developments and give a brief outlook
to future work.

%% What is R-Forge offering to you?
%% Alternative title: Core Features of R-Forge
\section{R-Forge}
%% what is R-Forge?
R-Forge offers a central platform for the development of \R{}
packages, \R{}-related software and further projects. 

R-Forge is based on GForge \citep{forge:copeland_et_al:2006} which is
an open source fork of the 2.61 SourceForge code maintained by Tim
Perdue, one of the original SourceForge authors. GForge has been
modified to provide additional features for the \R{} community namely,
a CRAN-style repository for hosting development releases of \R{}
packages as well as a quality management system similar to that of
CRAN.
%%This and the especially of interest for the \R{} community
%% brief overview of features possibly most interesting for readers
Packages hosted on \R{}-Forge are provided as compressed package
sources (the package tarball) generated daily for platform independend
usage. Additionally, package binaries are built for Mac OSX and
Windows. The package tarball and the binaries are downloadable from
the website of the corresponding project on \R{}-Forge or are
installable directly in \R{} via \code{install.packages("foo",
  repos="http://R-Forge.R-project.org")}.

%%Tabs can be distinguished in main
%%tabs (currently Home, My Page and Project Tree) and project specific
%%tabs which are only visible when you access a project.

%% Additional Information to GForge. Since the codebase of 
%% SourceForge has not been released over a certain time the GForge
%% project was formed. 

%% Why should software developers use source code management tools?
%% FIXME: How to formulate better
%% Version control - probably the most important feature

%%Probably the most important features correspond to 3 project tabs are
%%\tab{Summary} which offers an overview of the whole project, \tab{SCM}
%%describing how people can access the source code repository and \tab{R
%%Packages} containing a list of packages available in this Project.

%% eventually include history of the development of R-Forge

On R-Forge, developers organize their work
in so-called \textit{Projects}. Every project has various tools and
web-based features for software development, communcation and other
services enabled. All features mentioned in the 
following sections are accessible via so-called 
``tabs'': e.g., user accounts can be managed in the \tab{My~Page} tab or
a list of available projects can be displayed using the
\tab{Project~Tree} tab.

Since starting the platform in early 2007, more
and more interested users registered their projects on \R{}-Forge. Now
after one and a half years being in a development and testing stage nearly
240 projects and around 600  
users are registered on \R{}-Forge. This and the steadily growing list of
feature requests show that there is a high demand for centralized source code
management tools and for releasing prototype code frequently among the
\R{} community.

In the next three sections, we summarize the core features of
\R{}-Forge and what \R{}-Forge offers to the \R{} community in terms
of  collaborative development of \R{}-related software projects.
%% TABS and projects

\subsection{Source Code Management}

When carrying out software projects source files change over time,
new files get created and old files deleted. Typically, several authors
work on several computers on the same and/or different files. Keeping
track of every file change can become a tedious task. Especially if
files get overwritten or deleted it is often not easy to restore them
from a backup. 

Source code management tools like SVN help organizing the process of
creating software. A central repository ensures that the developer
has always access to the current version of the project's source
code. Any of the authorized collaborators can ``checkout'' or
``update'' the project
file structure, make the necessary changes or additions, delete
files from the project and finally ``commit'' changes or additions
to the repository. More than
that, SVN keeps track of the complete history of the project file
structure. At any point in the development stage it is possible to go
back to any stage in the history as well as to inspect and restore old
files. This is called version control as every stage automatically is
assigned a unique version number which increases over time. 

%% SCM on R-Forge
On R-Forge such a version-controlled repository is automatically
created for each project. To get started, the project members just
have to install the client of their choice (e.g., Tortoise SVN on
Windows or svnX on 
Mac OSX) and check out the repository. In addition to the inherent
backup of every version within the repository a backup of the whole
repository and thus of the whole history of the project is made daily. 

%% Rights management on R-Forge
By default, anonymous users have read access and others---the
developers---have write access to the data associated with 
a certain project. On R-Forge a rights management system assures that
registered users can be granted one of several roles. 
E.g., the \textit{Administrator} has all rights including the right to
add new users to the project or release packages directly to CRAN. He
or she is usually the package 
maintainer, the project leader or has registered the project originally.
Other members of a project typically have either the role \textit{Senior 
Developer} or \textit{Junior Developers}. These two roles are
permitted to commit to the project 
SVN repository and examine the log files in the \tab{R Packages} tab.
When we speak of developers in subsequent sections we refer to project
members having the rights of at least of a \textit{Junior Developer}.


\subsection{Release and Quality Management of R Packages}
\label{sec:release_and_quality_management}

%% Quality Management and bug/support/feature tracker
Development versions of a software project are typically
prototypes and are subject to fundamental changes. \R{}-Forge offer
two tools which assist the developers in meeting specific standards in
\R{} package development and to improve the quality of their source
code. 

First, it offers a quality management system similar to 
that of CRAN. Packages on \R{}-Forge are checked in a
standardized way on different platforms based on
\code{R~CMD~check}. The resulting log files can be examined by the
project developers so that they can improve
the package to pass all tests on \R{}-Forge and subsequently on CRAN.

Second, bug tracking systems allow users to notify
package authors about problems they encountered. In the spirit of
OSS---given enough eyeballs, all bugs are shallow
\citep{forge:Raymond:1999}---peer code review leads to an 
overall improvement of the quality of software projects.

\subsection{Additional Features}

A number of other tools, especially of interest for larger
projects, help developers to coordinate their work and to communicate
with their user base. These tools include:

\begin{itemize}
\item Project websites: Developers may present their work
  on a subdomain of R-Forge, e.g.,
  \url{http://foo.R-forge.R-project.org}), or via a link to an
  external website.
%% checked out hourly from ``www'' directory of the
%%project's repository.
\item Mailing lists: By default a list
  \code{foo-commits@lists.R-Forge.R-project.org} is automatically
  created for each project. Additional mailing lists can be
  set up easily.
\item Project categorization: Different
  topics (e.g., biostatistics, finance, regression analysis,
  \ldots) enable users to quickly find what they are
  looking for by browsing these categories in the so-called
  \tab{Project Tree} tab. By default an alphabetical listing of all
  projects each including a short description similar to CRAN is
  presented.
\item News: Announcements and other information related to a project
  can be put on the project summary page as well as on the 
  home page of \R{}-Forge. The latter needs approval by one of the R-Forge
  administrators. All items are available as RSS feeds.
\item Forums: Discussion forums have to be set up separately by the
  project administrators.%% are places to discuss certain topics 
\end{itemize}

\section{How to Get Started}
%%A small guide through R-Forge---TODO: detailed description 
This section is intended to be a hands-on tutorial for new users. For
a more detailed guide to \R{}-Forge and additional 
information we refer to \citep[][subsequently
referred to as user's manual]{forge:usermanual:2008}.

After accessing the URL \url{http://R-Forge.R-project.org} the home
page is presented to the user. Here one can
\begin{itemize}
\item login,
\item register a user or a project,
\item download the documentation,
\item examine the latest news,
\item go to a specific project website either by searching for available
  projects (top middle of the page), by clicking on one of the projects
  listed on the right, or by going through an alphabetical listing in
  the \tab{Project Tree} tab. 
\item examine R-Forge specific statistics (how many projects/users
  are currently registered on R-Forge, project activity percentages,
  \ldots{}).
\end{itemize}

Another tab on the home page named \tab{My Page} leads registered user
to their personal page. How upcoming \R{}-Forge developers become
registered users is explained in the next section.

\subsection{Registering as a New User}

Before using certain features or starting projects on \R{}-Forge, one has
to register as a site user. A link on the main web site called
\tab{New Account} on the top right of the home page leads to the
corresponding registration form.

After submitting the completed form an e-mail is sent to the given
address containing a link for activating the account. Subsequently,
all \R{}-Forge features, including joining existing or creating
new projects, are available to the logged in user.

In the following section, we explain the registration of a project in
more detail.  

\subsection{Registering a Project}

There are two possibilities to register a project: Clicking on
\tab{Register Your Project} on the home page or by going to the \tab{My
Page} tab and clicking on \tab{Register Project}. Both links lead to a
form which has to be filled out in order to finish the registration
process. In the text field ``Project Public Description'' the
registrant is supposed to enter a short and concise description of the
project. This text is shown at several places on \R{}-Forge. The text
entered in the field ``Project Purpose And Summarization'' is an
additional information for the \R{}-Forge administrators. Its
intention is to see if the project is approvable. ``Project Unix
Name'' refers to the name which 
uniquely determines the project. In case of a project that contains a
single \R{} package, the project unix name typically corresponds to
the package name or its lower case version. Restrictions according to
the Unix file system convention force Unix names to be in lower case
(and will be converted automatically if they are typed in upper case).

After submitting the completed form the project has to be approved by
the R-Forge administrators. A confirmation e-mail sent to the
registrant indicates successful completion of the registration
process. After that, the registrant automatically becomes the project
administrator and the standardized web area of the project
(\code{http://R-Forge.R-project.org/projects/foo/} is
immediately available on \R{}-Forge. 
This web area includes a \tab{Summary} page, an \tab{Admin} tab
visible only to the project administrators, and various other tabs
depending on the features enabled for this project in the \tab{Admin}
tab. To present the new project to a broader community the name of the
project additionally is promoted on the home page under ``Recently
Registered Projects''.

The default entry point to a web area of a specific project is
the \tab{Summary} page. Here, one can 

\begin{itemize}
\item examine the details about the project including a short
  description and a listing of the administrators and developers,
\item follow the download link leading directly to the available packages
  of the project (i.e., the \tab{R Packages} tab),
\item follow a link leading to the (personal) project homepage,
\item examine the latest news announcements (if available),
\item go to other sections of the project like
  \tab{Forums}, \tab{Tracker},
   \tab{Lists}, \tab{R Packages}, \ldots{}.
\end{itemize}

Furthermore, within an hour after approval a default mailing list and
the project's SVN repository containing a README file and two
pre-defined directories namely \code{www} and \code{pkg} get created. 

As already stated in the listing above a second web area, accessible 
through \url{http://foo.R-Forge.R-project.org} where \code{foo}
corresponds to the unix name of the project, is automatically
set up. This project website is managed via the \code{www} directory
in the SVN repository and gets updated every hour.

The usage of the other pre-defined directory \code{pkg} and how R
packages are handled with \R-Forge is explained in the next
section.


\subsection{SCM and R Packages}

The \tab{SCM} tab of a project explains how the corresponding SVN
repository can be checked out to your PC. Typically, this is done either
anonymously without write permission via \code{svn checkout
  svn://svn.R-Forge.R-project.org/svnroot/foo} (if enabled by the
administrator, the default) or with full access to the repository as a
developer via \code{svn checkout
  svn+ssh://developername@svn.R-Forge.R-project.org/svnroot/foo}. 

There are two possibilities to put your package on R-Forge. The source
code of new packages or existing packages currently not version
controlled is added and committed to the project repository. Packages
already maintained in a version-controlled repository can be migrated
to R-Forge including the whole version history. For the latter we 
refer to the user's manual. 

In any way, to make use of the package building and checking feature
the package source code has to be put into the \code{pkg} directory
of your repository (i.e., \code{pkg/DESCRIPTION},
\code{pkg/R}, \code{pkg/man}, ldots{}) or, alternatively, a 
subdirectory of \code{pkg}. The latter structure allows to
have more than one package in a single project, e.g., if
a project consists of the packages \code{foo} and \code{bar} then the
source code is located in \code{pkg/foo} and \code{pkg/bar},
respectively.

After committing the package/s to the server the tarball containing
the package sources as well as the package binaries for Mac OSX and
Windows will be available
within a day in the \tab{R Packages} tab for download. The packages
are installable directly in \R{} from a CRAN-style repository using
\code{install.packages("foo", repos="http://R-Forge.R-project.org")}
as well. Furthermore, logs of the build and check process on different
platforms can be examined by the developers.  

To release a package to CRAN the project administrator clicks on
\tab{Submit this package to CRAN} in the \tab{R Packages} tab. After
confirmation that a message will be sent to \email{CRAN@R-project.org}
the package is automatically copied to
\url{ftp://CRAN.R-project.org/incoming}.

\section*{Recent and Future Developments}

In this section, we briefly summarize the major milestones of
\R{}-Forge development since the first release and give an outlook to
future developments.

Recently added features and major changes include:

\begin{itemize}
\item New defaults for freshly registered projects: only the tabs
  \tab{Lists}, \tab{SCM} and \tab{R~packages} are turned on
  initially. \tab{Forums}, \tab{Tracker} and \tab{News}
  can be turned on separately using \tab{Edit Public Info} in
  the \tab{Admin} tab of the project. This is aimed to not overwhelm
  new users with a flood of features. Experienced users can decide
  which features they want and activate them.
\item An enhanced structure in the SVN repository allowing multiple
  packages in a single project (see also the above section).
\item An \R{} package \citep[\pkg{RForgeTools},
  see][]{forge:theussl:2008} containing platform independent package
  building and quality management code used on the \R{}-Forge servers.
\item A modified \tab{News} submit page offering two types of
  submissions: project-only and home page submission. News items
  declared to be put on the home page of \R{}-Forge need an approval
  by one of the \R{}-Forge administrators (default: project-only
  submission).
\item Circulation of SVN commit messages can be enabled in the
  \tab{SCM Admin} tab by project administrators. The mailing list mentioned in
  the text field is used for delivering the SVN commit messages
  (default: off). 
\item Mailing list search facilities provided by the Swish-e engine
  which can be accessed via the \tab{List} tab (private lists
  are not included in the search index).

\end{itemize}

Eventually, we briefly summarize the features which are currently on
the wishlist or are under development and likely to be included in the
near future. These include

\begin{itemize}
\item a Wiki,
\item task management facilities,
\item a re-organized tracker more compatible to \R{} package development. 
\end{itemize}

For suggestions, wishes, help requests and other questions regarding
\R{}-Forge please write an e-mail to \email{R-Forge@R-project.org}.

\section{Acknowledgements}

Setting up this project had not been possible without Douglas
Bates and the University of Wisconsin as they provided us with a
server for hosting this platform. Furthermore, 
the authors would like to thank the Computer Center 
of the Wirtschaftsuniversit\"at Wien for
their support and for providing us with additional hardware as well as a
professional server infrastructure.

\bibliography{R-Forge}